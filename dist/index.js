/*! Project:dcore, Create:单炒饭 2018.08.08 11:22, Update:单炒饭 2018.08.08 11:37 */ 
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):"function"==typeof define&&(define.cmd||define.hjs)?define(function(require,exports,e){e.exports=n()}):e.index=n()}(this,function(){"use strict";var e=function(e){return e&&e.length!==undefined},n=function(e,n){return"on"+n in e},t="__event__",o=function(e){return"__eventStatus__"+e},r={add:function(r,a,i){var u=o(a),c=n(r,a);if(r[t]===undefined&&(r[t]={}),e(r[t][a])||(r[t][a]=[]),r[t][a].push(i),r[t][u]===undefined&&c){r[t][u]=!0;var f=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var o=0,i=r[t][a].length;o<i;o++){var u=r[t][a][o];u.call.apply(u,[r].concat(e))}};"function"==typeof r.addEventListener?r.addEventListener(a,f,!1):"object"==typeof r.attachEvent&&r.attachEvent("on"+a,f)}return c},remove:function(n,o,a){if(n[t]&&e(n[t][o])){for(var i=n[t][o],u=0,c=i.length;u<c;u++){i[u]===a&&(i.splice(u,1),u--,c=i.length)}i.length||r.removeAll(n,o)}},removeAll:function(e,n){var r=o(n);e[t]&&delete e[t][n],e[t]&&e[t][r]&&delete e[t][r]},preventDefault:function(e){e.preventDefault?e.preventDefault():window.event.returnValue=!1},stopPropagation:function(e){e.stopPropagation?e.stopPropagation():window.event.cancelBubble=!0}},a=function(e){if("string"!=typeof e||!e)throw new Error("Invalid cookie name");return i()[e]},i=function(){var e={},n=document.cookie,t=n?n.split("; "):[];if(t.length)for(var o=0,r=t.length;o<r;o++){var a=t[o],i=a.split("="),u=i[0],c=i[1];e[u]=c}return e},u={path:"/",domain:location.hostname.indexOf("www")>-1?location.hostname.replace("www",""):location.hostname,expires:0},c=function(e,n,t){void 0===t&&(t=u);for(var o in u){var r=u[o];t[o]===undefined&&(t[o]=r)}var a=function(){var e=new Date;return e.setDate(e.getDate()+t.expires),e.toString()}(),i=t.domain,c=t.path,f=a,s=e+"="+n+"; domain="+i+"; path="+c+"; expires="+f;document.cookie=s},f=function(e,n){void 0===n&&(n=u);var t={};for(var o in n)t[o]=n[o];t.expires=-1,c(e,"",t)},s={get:a,toJson:i,set:c,del:f},l={create:function(e){var n,t=[],o=document.createElement("div");o.innerHTML=e,n=o.childNodes;for(var r=0,a=n.length;r<a;r++)n[r]&&n[r].tagName&&t.push(n[r]);return t},get:function(e,n){void 0===n&&(n=document);var t=e.substr(0,1),o=/^(\.|#)/i.test(e)?e.substr(1):e,r=new RegExp("(^|\\s)"+o+"(\\s|$)"),a=[];switch(t){case"#":a.push(document.getElementById(o));break;case".":if("function"==typeof n.getElementsByClassName)for(var i=n.getElementsByClassName(o),u=0,c=i.length;u<c;u++)a.push(i[u]);else for(var f=n.getElementsByTagName("*"),u=0,c=f.length;u<c;u++){var s=f[u];r.test(s.className)&&a.push(s)}break;default:for(var l=document.getElementsByTagName(o),u=0,c=l.length;u<c;u++)a.push(l[u])}return a}},d=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{console.log.apply(console,e)}catch(t){}},v={timeout:5e3,data:{},callback:"jsoncallback",success:function(e){d(e)},fail:function(e){d(e)}},p=function(e){var n=[];for(var t in e)n.push(t+"="+encodeURIComponent(e[t]));return n.join("&")},m=document.getElementsByTagName("head")[0],h=function(e){e=e||{};for(var n in v){var t=n,o=v[n];e[t]===undefined&&(e[t]=o)}if("string"!=typeof e.url)throw new Error("option.url 不合法");var r=document.createElement("script"),a=function(){return"ydEffectJsonp_"+(Math.random()+"").substr(2)}(),i=function(){var n={};for(var t in e.data)n[t]=e.data[t];return n[e.callback]=a,n._t=(Math.random()+"").substr(2),n}(),u=e.url+"?"+p(i);window[a]=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];e.success.apply(e,n),m.removeChild(r),clearTimeout(r.timer),window[a]=null},r.src=u,r.type="text/javascript",r.charset="utf-8",m.appendChild(r),r.timer=setTimeout(function(){e.fail(u+" Request timed out!"),m.removeChild(r),window[a]=null},e.timeout),r.onerror=function(e){throw new Error("Request error")}},g=function(e){return y()[e]},w=function(e,n){var t=y();t[e]=n;var o=E(t);location.search=o},y=function(e){void 0===e&&(e=location.search),e=e.indexOf("?")>-1?e.substr(1,e.length):e;for(var n=e.split("&"),t={},o=0,r=n.length;o<r;o++){var a=n[o].split("=");a[0]&&a[1]&&(t[a[0]]=decodeURIComponent(a[1]))}return t},E=function(e){void 0===e&&(e={});var n="?";for(var t in e){var o=e[t];n+=t+"="+encodeURIComponent(o)+"&"}return n=n.substr(0,n.length-1)};return{event:r,cookie:s,element:l,jsonp:h,url:{get:g,set:w,toJson:y,parse:E}}});