{"map":"{\"version\":3,\"file\":\"_event.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/bin/_event.ts\"],\"names\":[],\"mappings\":\"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\"}","code":"var isArrary = function (array) {\r\n    return array && array.length !== undefined;\r\n}, \r\n// 检查是否支持该事件\r\nisSupportEvent = function (obj, type) {\r\n    return \"on\" + type in obj;\r\n}, eventKey = \"__event__\", getEventStatusKey = function (type) { return \"__eventStatus__\" + type; }, event = {\r\n    add: function (obj, type, fn) {\r\n        var eventStatusKey = getEventStatusKey(type), isSupportType = isSupportEvent(obj, type);\r\n        // 如果从未使用过事件绑定，则给元素添加一个事件对象\r\n        if (obj[eventKey] === undefined) {\r\n            obj[eventKey] = {};\r\n        }\r\n        ;\r\n        // 如果该事件还没有进行过添加，则初始化事件列表\r\n        if (!isArrary(obj[eventKey][type])) {\r\n            obj[eventKey][type] = [];\r\n        }\r\n        ;\r\n        // 将事件添加到执行列表\r\n        obj[eventKey][type].push(fn);\r\n        // 如果事件未绑定过则进行绑定并且支持该事件的\r\n        if (obj[eventKey][eventStatusKey] === undefined && isSupportType) {\r\n            obj[eventKey][eventStatusKey] = true;\r\n            var run = function () {\r\n                var arg = [];\r\n                for (var _i = 0; _i < arguments.length; _i++) {\r\n                    arg[_i] = arguments[_i];\r\n                }\r\n                // arg[0] = arg[0] || window.event;\r\n                for (var i = 0, len = obj[eventKey][type].length; i < len; i++) {\r\n                    var item = obj[eventKey][type][i];\r\n                    item.call.apply(item, [obj].concat(arg));\r\n                }\r\n                ;\r\n            };\r\n            if (typeof obj['addEventListener'] === 'function') {\r\n                obj['addEventListener'](type, run, false);\r\n            }\r\n            else if (typeof obj['attachEvent'] === 'object') {\r\n                obj['attachEvent'](\"on\" + type, run);\r\n            }\r\n            ;\r\n        }\r\n        ;\r\n        return isSupportType;\r\n    },\r\n    remove: function (obj, type, fn) {\r\n        if (obj[eventKey] && isArrary(obj[eventKey][type])) {\r\n            var fnList = obj[eventKey][type];\r\n            for (var i = 0, len = fnList.length; i < len; i++) {\r\n                var item = fnList[i];\r\n                if (item === fn) {\r\n                    fnList.splice(i, 1);\r\n                    i--;\r\n                    len = fnList.length;\r\n                }\r\n                ;\r\n            }\r\n            ;\r\n            // 当方法都被删除了，则删除整个类型的事件列表和事件绑定状态\r\n            if (!fnList.length) {\r\n                event.removeAll(obj, type);\r\n            }\r\n            ;\r\n        }\r\n        ;\r\n    },\r\n    // 移除元素上所有指定类型的事件\r\n    removeAll: function (obj, type) {\r\n        var eventStatusKey = getEventStatusKey(type);\r\n        if (obj[eventKey]) {\r\n            delete obj[eventKey][type];\r\n        }\r\n        ;\r\n        if (obj[eventKey] && obj[eventKey][eventStatusKey]) {\r\n            delete obj[eventKey][eventStatusKey];\r\n        }\r\n        ;\r\n    },\r\n    // 阻止默认事件的方法（例如：链接不会被打开），但是会发生冒泡行为\r\n    preventDefault: function (event) {\r\n        if (event.preventDefault) {\r\n            event.preventDefault();\r\n        }\r\n        else {\r\n            window.event.returnValue = false;\r\n        }\r\n        ;\r\n    },\r\n    // 阻止事件冒泡，不让事件向上（document）蔓延，但默认事件依然会执行\r\n    stopPropagation: function (event) {\r\n        if (event.stopPropagation) {\r\n            event.stopPropagation();\r\n        }\r\n        else {\r\n            window.event.cancelBubble = true;\r\n        }\r\n        ;\r\n    }\r\n};\r\nexport default event;\r\n//# sourceMappingURL=_event.js.map"}
